!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("postcss-value-parser")):"function"==typeof define&&define.amd?define(["postcss-value-parser"],e):"object"==typeof exports?exports.cssFruit=e(require("postcss-value-parser")):t.cssFruit=e(t["postcss-value-parser"])}(global,function(t){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(e,i){e.exports=t},function(t,e,i){"use strict";i.r(e);var r,o,n=i(0),s=function(){function t(t){this.nodes=new n(t).nodes,this.pos=0}return t.prototype.head=function(){return this.nodes[this.pos]},t.prototype.next=function(){if(this.pos<this.nodes.length)return this.nodes[++this.pos]},t}(),a=function(){function t(t){this._config={irrelevantProperty:"ignore",resolveDepth:3},this._type="fruit",this._inherited=!1,this._resolveDepthBoundary=3,this.valid=!1,1===arguments.length&&t&&this.parse(t)}return t.prototype.init=function(){this.valid=!1},t.prototype.parse=function(t){this.raw=t,t=t.trim();var e=new s(t);if(this.analyze(e),e.head())throw this.valid=!1,SyntaxError("Nodes of value cannot be fully analyzed: "+t);return this.toResult()},t.prototype.toResult=function(){if(this.valid)return this._config.resolveDepth>=this._resolveDepthBoundary?this:this.toString()},t.prototype.analyze=function(t){var e;for(this.init();e=t.head();){var i=void 0;try{i=this.analyzeInLoop(e,t)}catch(t){throw this.valid=!1,t}if(void 0===i)return;!0===i&&(e=t.next())}},t.prototype.analyzeInLoop=function(t,e){return!0},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){return this.valid?this.raw:""},t.prototype.absorb=function(t,e){var i=this;return Array.isArray(t)?(t.forEach(function(t){return i.absorb(t)}),this):("object"==typeof t&&(e=t.value,t=t.prop),this._absorb(t,e))},t.prototype._absorb=function(t,e){return this},t.parse=function(t){try{return(new this).parse(t)}catch(t){}},t.validate=function(t){return void 0!==this.parse(t)},t.absorb=function(t,e){var i=new this;return i.absorb.apply(i,arguments)},t}(),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),h=i(0),l=/^(?:black|silver|gray|white|maroon|red|purple|fuchsia|green|lime|olive|yellow|navy|blue|teal|aqua|orange|aliceblue|antiquewhite|aquamarine|azure|beige|bisque|blanchedalmond|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|aqua|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|gainsboro|ghostwhite|gold|goldenrod|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|limegreen|linen|magenta|fuchsia|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|oldlace|olivedrab|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|thistle|tomato|turquoise|violet|wheat|whitesmoke|yellowgreen|rebeccapurple)$/i,c=/^#(?:[0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i,p=function(t){function e(i,r,o,n){void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===n&&(n=1);var s=t.call(this)||this;return s._type="color",s._resolveDepthBoundary=4,s.r=i,s.g=r,s.b=o,s.a=n,Object.assign(s,e.RGB2HSV(s.r,s.g,s.b)),s}return u(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.value=void 0,this.r=0,this.g=0,this.b=0,this.a=0,this.h=0,this.s=0,this.v=0},e.prototype.analyzeInLoop=function(t,e){if("space"===t.type||"comment"===t.type)return!0;if("word"===t.type){if("currentColor"===t.value){if(this.value)throw new SyntaxError("Excessive value");return this.value="currentColor",this.valid=!0}if(l.test(t.value)){if(this.value)throw new SyntaxError("Excessive value");return this.value=t.value,this.valid=!0}if(c.test(t.value)){if(this.value)throw new SyntaxError("Excessive value");return this.value=t.value,this.valid=!0}}else if("function"===t.type){if(t.unclosed)throw new SyntaxError("Unclosed function: "+t.value);if("rgb"===t.value||"rgba"===t.value||"hsl"===t.value||"hsla"===t.value){if(this.value)throw new SyntaxError("Excessive value");return this.value=h.stringify(t),this.valid=!0}}},e.prototype.toString=function(){return this.valid?this.value:t.prototype.toString.call(this)},e.prototype.toTuple=function(){return[this.r,this.g,this.b,this.a]},e.prototype.toHEX=function(t){var e=function(t){return(1===t.length?"0"+t:t).toUpperCase()};return"#"+e(this.r.toString(16))+e(this.g.toString(16))+e(this.b.toString(16))},e.prototype.getRGB=function(){return{r:this.r,g:this.g,b:this.b}},e.prototype.setRGB=function(t,i,r){Object.assign(this,{r:t,g:i,b:r},e.RGB2HSV(t,i,r))},e.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},e.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},e.prototype.getHSV=function(){return{h:this.h,s:this.s,v:this.v}},e.prototype.setHSV=function(t,i,r){Object.assign(this,{h:t,s:i,v:r},e.HSV2RGB(t,i,r))},e.prototype.getHSL=function(){return e.HSV2HSL(this.h,this.s,this.v)},e.prototype.setHSL=function(t,e,i){},e.prototype.toHSL=function(){var t=this.getHSL();return"hsl("+t.h+", "+Math.round(100*t.s)+"%, "+Math.round(100*t.l)+"%)"},e.prototype.toHSLA=function(){var t=this.getHSL();return"hsl("+t.h+", "+Math.round(100*t.s)+"%, "+Math.round(100*t.l)+"%, "+this.a+")"},e.fromHEX=function(t){if(6!==(t=t.trim().slice(1)).length&&3!==t.length)throw new SyntaxError("Unexpected length of hex number");return 3===t.length&&(t=""+t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),new e(parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16))},e.fromRGB=function(t){var i=(t=t.trim().slice(4,-1)).split(",").map(function(t){return+t});if(4!==i.length)throw new SyntaxError("Unexpected params of rgba function");return new(e.bind.apply(e,[void 0].concat(i)))},e.fromRGBA=function(t){var i=(t=t.trim().slice(5,-1)).split(",").map(function(t){return+t});if(4!==i.length)throw new SyntaxError("Unexpected params of rgba function");return new(e.bind.apply(e,[void 0].concat(i)))},e.parse=function(t){return"#"===(t=t.trim())[0]?this.fromHEX(t):t.startsWith("rgba(")?this.fromRGBA(t):t.startsWith("rgb(")?this.fromRGB(t):void 0},e.RGB2HSV=function(t,e,i){t/=255,e/=255,i/=255;var r,o=Math.max(t,e,i),n=Math.min(t,e,i),s=o-n;return o===n?r=0:(o===t?r=(e-i)/s+(e<i?6:0):o===e?r=(i-t)/s+2:o===i&&(r=(t-e)/s+4),r/=6),{h:360*r>>0,s:100*(0===o?0:s/o)>>0,v:100*o>>0}},e.HSV2RGB=function(t,e,i){var r,o,n;t/=360,e/=100,i/=100;var s=Math.floor(6*t),a=6*t-s,u=i*(1-e),h=i*(1-a*e),l=i*(1-(1-a)*e);switch(s%6){case 0:r=i,o=l,n=u;break;case 1:r=h,o=i,n=u;break;case 2:r=u,o=i,n=l;break;case 3:r=u,o=h,n=i;break;case 4:r=l,o=u,n=i;break;case 5:r=i,o=u,n=h}return{r:255*r>>0,g:255*o>>0,b:255*n>>0}},e.HSV2HSL=function(t,e,i){return{h:t,s:e*i/((t=(2-e)*i)<1?t:2-t)>>0||0,l:t/2>>0}},e.HSL2HSV=function(t,e,i){i/=100;var r=e/=100,o=Math.max(i,.01);return e*=(i*=2)<=1?i:2-i,r*=o<=1?o:2-o,{h:t,s:100*(0===i?2*r/(o+r):2*e/(i+e))>>0,v:100*((i+e)/2)>>0}},e}(a),f=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),y=/^(.*?)(\?.*?)?(#.*?)?$/i,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type="url",e._resolveDepthBoundary=4,e}return f(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.url=void 0,this.path=void 0,this.query={},this.hash=void 0},e.prototype.analyzeInLoop=function(t){var e=this;if("space"===t.type||"comment"===t.type)return!0;if("function"===t.type){if(t.unclosed)throw new SyntaxError("Unclosed function: "+t.value);if("url"===t.value){if(this.url)throw new SyntaxError("Duplicated url functions");var i="";if(t.nodes.length>1)throw new SyntaxError("Invalid url");if(1===t.nodes.length){var r=t.nodes[0];if(r.unclosed)throw new SyntaxError("Unclosed quote: "+r.value);i=r.value}this.url=i;var o=y.exec(i);if(this.path=o[1]?decodeURIComponent(o[1]):"",o[2])o[2].slice(1).split("&").forEach(function(t){var i=t.split("=");i[0]&&(e.query[decodeURIComponent(i[0])]=decodeURIComponent(i[1])||"")});return this.hash=o[3]?decodeURIComponent(o[3].slice(1)):"",this.valid=!0}}},e.prototype.toString=function(){var e=this;if(!this.valid)return t.prototype.toString.call(this);var i=Object.keys(this.query).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e.query[t])}).join("&");return"url('"+encodeURIComponent(this.path)+(i?"?"+i:"")+(this.hash?"#"+encodeURIComponent(this.hash):"")+"')"},e}(a),d=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type="image",e._resolveDepthBoundary=4,e}return d(e,t),e.prototype.init=function(){t.prototype.init.call(this),this._state={count:0},this.value=void 0},e.prototype.toResult=function(){return this.valid?"string"==typeof this.value?this.value:this.value.toResult():t.prototype.toResult.call(this)},e.prototype.analyzeInLoop=function(t,e){if("space"===t.type||"comment"===t.type)return!0;if("function"===t.type){if(t.unclosed)throw new SyntaxError("Unclosed function: "+t.value);if("url"===t.value){if(this.value)throw new SyntaxError("Excessive values");var i=new v;if(i.analyze(e),!i.valid)throw new SyntaxError("Invalid url: "+t.value);return this.value=i.toResult(),this.valid=!0,!1}}},e.prototype.toString=function(e){return this.valid?this.value.toString():t.prototype.toString.call(this)},e}(a),w=/^[+-]?(?:\.?\d+|\d+\.\d+)(?:e[+-]?\d+)?$/i,_=(Number,function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}()),b=(new RegExp("^("+String(w).slice(2,-3)+")(cap|ch|em|ex|ic|lh|rem|rlh|vh|vw|vi|vb|vmin|vmax|px|cm|mm|Q|in|pc|pt)?$","i"),new RegExp("^("+String(w).slice(2,-3)+")(ch|em|ex|rem|vh|vw|vmin|vmax|px|cm|mm|in|pc|pt)?$","i")),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type="length",e._resolveDepthBoundary=4,e}return _(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.number=void 0,this.unit=void 0},e.prototype.parse=function(t){t=t.trim(),this.init();var e=b.exec(t);if(!e)throw new SyntaxError("Invalid length");if(0!=+e[1]&&!e[2])throw new SyntaxError("A unit should be after the non-zero number");return this.number=+e[1],this.unit=e[2]||"",this.valid=!0,this.toResult()},e.prototype.toString=function(e){return this.valid?e||0!==this.number?this.number+this.unit:"0":t.prototype.toString.call(this)},e.test=function(t){return b.test(t)},e}(a),x=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),S=new RegExp("^("+String(w).slice(2,-3)+")%$","i"),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type="percentage",e._resolveDepthBoundary=4,e}return x(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.number=void 0},e.prototype.parse=function(t){t=t.trim(),this.init();var e=S.exec(t);if(!e)throw new SyntaxError("Invalid percentage");return this.number=+e[1],this.valid=!0,this.toResult()},e.prototype.toString=function(e){return this.valid?this.number+"%":t.prototype.toString.call(this)},e.test=function(t){return S.test(t)},e}(a),k=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(t){t.center="center",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(o||(o={}));var O,j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type="background-position",e}return k(e,t),e.prototype.init=function(){t.prototype.init.call(this),this._state={count:0,lastType:void 0},this.x={origin:void 0,offset:void 0},this.y={origin:void 0,offset:void 0}},e.prototype.analyzeInLoop=function(t){if("space"===t.type||"comment"===t.type)return!0;if("word"===t.type)if(t.value===o.center){if(this._state.count>=2)throw new SyntaxError("Excessive keyword");if(0===this._state.count)return this.x.origin=this.y.origin=t.value,this._state.lastType="center",this._state.count++,this.valid=!0;if(1===this._state.count)return this._state.lastType="center",this._state.count++,this.valid=!0}else if(t.value===o.left||t.value===o.right){if(this._state.count>=3)throw new SyntaxError("Excessive keyword");if(0===this._state.count)return this.x.origin=t.value,this.y.origin=o.center,this._state.lastType="x",this._state.count++,this.valid=!0;if(1===this._state.count){if(this.x.origin!==o.center)throw new SyntaxError("Duplicated keywords: "+t.value);return this.x.origin=t.value,this._state.lastType="x",this._state.count++,this.valid=!0}if(2===this._state.count){if(this.x.origin===o.center&&this.x.offset)return this.x.origin=t.value,this.y.offset=this.x.offset,this.x.offset=void 0,this._state.lastType="x",this._state.count++,this.valid=!0;throw new SyntaxError("Excessive keyword: "+t.value)}}else if(t.value===o.top||t.value===o.bottom){if(this._state.count>=3)throw new SyntaxError("Excessive keyword");if(0===this._state.count)return this.y.origin=t.value,this.x.origin=o.center,this._state.lastType="y",this._state.count++,this.valid=!0;if(1===this._state.count){if(this.y.origin!==o.center)throw new SyntaxError("Duplicated keywords: "+t.value);return this.y.origin=t.value,this._state.lastType="y",this._state.count++,this.valid=!0}if(2===this._state.count){if(this.x.origin!==o.center&&this.y.offset&&!this.x.offset)return this.y.origin=t.value,this.x.offset=this.y.offset,this.y.offset=void 0,this._state.lastType="y",this._state.count++,this.valid=!0;throw new SyntaxError("Excessive keyword: "+t.value)}}else{var e=m.parse(t.value),i=E.parse(t.value),r=e||i;if(!r)return;if(this._state.count>=4)throw new SyntaxError("Excessive <length-percentage> value: "+r);if(0===this._state.count)return this.x.offset=r,this.x.origin=o.left,this.y.origin=o.center,this._state.lastType="length-percentage",this._state.count++,this.valid=!0;if(1===this._state.count)return this.y.origin!==o.center?(this.x.offset=r,this._state.lastType="length-percentage",this._state.count++,this.valid=!1,!0):(this.y.origin=o.top,this.y.offset=r,this._state.lastType="length-percentage",this._state.count++,this.valid=!0);if(2===this._state.count){if(this.x.offset||this.y.offset||this._state.lastType===o.center)throw new SyntaxError("Excessive <length-percentage> value: "+r);if("x"===this._state.lastType)this.x.offset=r;else{if("y"!==this._state.lastType)throw new Error("xxx");this.y.offset=r}return this._state.lastType="length-percentage",this._state.count++,this.valid=!0}if(3===this._state.count){if("length-percentage"===this._state.lastType)throw new Error("Excessive <length-percentage> value: "+r);if(this.x.offset){if(this.y.offset)throw Error("Something wrong");this.y.offset=r}else this.x.offset=r;return this._state.lastType="length-percentage",this._state.count++,this.valid=!0}}},e.prototype.toString=function(t){var e=[this.x.origin],i=[this.y.origin];return this.x.offset&&e.push(this.x.offset.toString()),this.y.offset&&i.push(this.y.offset.toString()),t?e.concat(i).join(" "):(1===e.length&&1===i.length||(2!==e.length||e[0]!==o.left||i[1]&&i[0]!==o.top||(e=e.slice(1)),2!==i.length||i[0]!==o.top||e[1]&&e[0]!==o.left||(i=i.slice(1))),e.concat(i).join(" "))},e}(a),R=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(t){t.repeat="repeat",t.space="space",t.round="round",t["no-repeat"]="no-repeat"}(O||(O={}));var z,I=function(t){function e(e,i){var r=t.call(this,e)||this;return r._type="background-repeat",arguments.length>1&&(r.x=e,r.y=i),r}return R(e,t),e.prototype.init=function(){t.prototype.init.call(this),this._state={count:0},this.x=void 0,this.y=void 0},e.prototype.analyzeInLoop=function(t){if("space"===t.type||"comment"===t.type)return!0;if("word"===t.type){if("repeat-x"===t.value){if(this._state.count>=1)throw new SyntaxError("Excessive keyword");return this.x=O.repeat,this.y=O["no-repeat"],this._state.count+=2,this.valid=!0}if("repeat-y"===t.value){if(this._state.count>=1)throw new SyntaxError("Excessive keyword");return this.x=O["no-repeat"],this.y=O.repeat,this._state.count+=2,this.valid=!0}if(Object.keys(O).includes(t.value)){if(this._state.count>=2)throw new SyntaxError("Excessive keyword");if(0===this._state.count)return this.x=this.y=t.value,this._state.count++,this.valid=!0;if(1===this._state.count)return this.y=t.value,this._state.count++,this.valid=!0;throw new Error("State inside problem!")}}},e.prototype.toString=function(e){if(!this.valid)return t.prototype.toString.call(this);if(!e){if(this.x===this.y)return this.x;if(this.x===O.repeat&&this.y===O["no-repeat"])return"repeat-x";if(this.y===O.repeat&&this.x===O["no-repeat"])return"repeat-y"}return[this.x,this.y].join(" ")},e}(a),P=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),H=function(t){function e(e,i){var r=t.call(this,e)||this;return r._type="background-size",arguments.length>1&&(r.width=e,r.height=i),r}return P(e,t),e.prototype.init=function(){t.prototype.init.call(this),this._state={count:0},this.width=void 0,this.height=void 0},e.prototype.toResult=function(){return this.valid&&("cover"===this.width||"contain"===this.width)?this.width:t.prototype.toResult.call(this)},e.prototype.analyzeInLoop=function(t){if("space"===t.type||"comment"===t.type)return!0;if("word"===t.type){if("cover"===t.value||"contain"===t.value){if(this._state.count>=1)throw new SyntaxError("Excessive keyword");return this.width=this.height=t.value,this._state.count+=2,this.valid=!0}var e=m.parse(t.value),i=E.parse(t.value),r=void 0;if(!e&&!i&&"auto"!==t.value)return;if(r=e||i||t.value,this._state.count>=2)throw new SyntaxError("Excessive <size> value: "+r);if(0===this._state.count)return this.width=r,this.height="auto",this._state.count++,this.valid=!0;if(1===this._state.count)return this.height=r,this._state.count++,this.valid=!0;throw new Error("State Problem!")}},e.prototype.toString=function(e){return this.valid?"cover"===this.width||"contain"===this.width?this.width:e||"auto"!==this.height?[this.width,this.height].join(" "):this.width.toString():t.prototype.toString.call(this)},e}(a),T=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),B=/^(scroll|fixed|local)$/i,C=/^(border-box|padding-box|content-box)$/i;!function(t){t.attachment="attachment",t.clip="clip",t.color="color",t.image="image",t.origin="origin",t.position="position",t.repeat="repeat",t.size="size"}(z||(z={}));var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type="background",e._inherited=!1,e}return T(e,t),e.prototype.init=function(){t.prototype.init.call(this),this._state={boxCount:0},this.attachment=void 0,this.clip=void 0,this.color=void 0,this.image=void 0,this.origin=void 0,this.position=void 0,this.repeat=void 0,this.size=void 0},e.prototype.analyzeInLoop=function(t,e){if("space"===t.type||"comment"===t.type)return!0;if("word"===t.type)if("none"===t.value)this.setImage(t.value);else{if(B.test(t.value)){if(this.attachment)throw new SyntaxError("Excessive background-attachment");return this.attachment=t.value,this.valid=!0}if(C.test(t.value)){if(0===this._state.boxCount)return this.clip=this.origin=t.value,this._state.boxCount++,this.valid=!0;if(1===this._state.boxCount)return this.clip=t.value,this._state.boxCount++,this.valid=!0;throw new SyntaxError("Excessive background-clip")}var i=!1;(a=new p).analyze(e),a.valid&&(this.setColor(a),i=this.valid=!0);var r=new j;if(r.analyze(e),r.valid){if(this.setPosition(r.toResult()),i=this.valid=!0,!(t=e.head()))return!1;if("div"===t.type&&"/"===t.value){var o=new H;if(e.next(),o.analyze(e),!o.valid)throw new SyntaxError("Invalid background-size");this.setSize(o),i=this.valid=!0}}var n=new I;if(n.analyze(e),n.valid&&(this.setRepeat(n.toResult()),i=this.valid=!0),i)return!1}else if("function"===t.type){if(t.unclosed)throw new SyntaxError("Unclosed function: "+t.value);if("url"===t.value){var s=new g;if(s.analyze(e),!s.valid)throw new SyntaxError("Invalid image");return this.setImage(s.toResult()),this.valid=!0,!1}var a;"rgb"!==t.value&&"rgba"!==t.value&&"hsl"!==t.value&&"hsla"!==t.value||((a=new p).analyze(e),a.valid&&(this.setColor(a.toResult()),this.valid=!0))}},e.prototype.setColor=function(t){if(this.color)throw new SyntaxError("Excessive color");this.color=t},e.prototype.setImage=function(t){if(this.image)throw new SyntaxError("Excessive image");this.image=t},e.prototype.setPosition=function(t){if(this.position)throw new SyntaxError("Excessive background-position");this.position=t},e.prototype.setRepeat=function(t){if(this.repeat)throw new SyntaxError("Excessive background-repeat");this.repeat=t},e.prototype.setSize=function(t){if(this.size)throw new SyntaxError("Excessive background-size");this.size=t},e.prototype.toString=function(t){var e=[];return this.color&&e.push(this.color.toString()),this.image&&e.push(this.image.toString()),this.position&&e.push(this.position.toString()),this.size&&e.push((this.position?"/ ":"left /")+this.size.toString()),this.repeat&&e.push(this.repeat.toString()),this.attachment&&e.push(this.attachment),this.origin&&e.push(this.origin),this.clip&&this.clip!==this.origin&&e.push(this.clip),e.join(" ")},e.prototype._absorb=function(t,i){var r=t.slice(this._type.length+1);if("background"===t)(n=new e).parse(i),this.color=n.color,this.image=n.image,this.position=n.position,this.size=n.size,this.attachment=n.attachment,this.repeat=n.repeat,this.origin=n.origin,this.clip=n.clip,this.valid=n.valid;else if("size"===r){var o=H.parse(i);this.size=o,o instanceof H&&(this.valid=o.valid)}else{if(!Object.keys(z).includes(r))throw new Error("Incompatible property: "+t);var n;(n=new e).parse(i),this[r]=n[r],this.valid=n.valid}return this},e}(a);i.d(e,"Background",function(){return A});var L={background:A};a.absorb=function(t,e){if("Fruit"!==this.name){var i=new this;return i.absorb.apply(i,arguments)}if(Array.isArray(t)){if(!t.length)return;var r=t[0],o=t.slice(1);return this.absorb(r).absorb(o)}"object"==typeof t&&(e=t.value,t=t.prop);var n=t.split("-")[0],s=L[n];if(!s)throw new Error("Unsupported property");return s.absorb(t,e)};e.default=a}])});